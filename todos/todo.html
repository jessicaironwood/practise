<html>

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Jessica's Todo App</title>

</head>

<body>

    <h1>Jessica</h1>

    <h4>To Do</h4>


    <input id="todo-title" type="text" />
    <br>
    <input id="date-picker" type="date" />
    <br>
    <button onclick="addTodo()">Add todo</button>
    <!-- alert on tosi toimiva nappien testaukseen -->
    <button onclick="markDone()" id="todo-button">Mark as done</button>

    <br>

    <br>

    <div id="todo-list"></div>

    <script>
        const todos = [{
            title: 'Learn',
            dueDate: '2024-04-14'
        }, {
            title: 'Clean',
            dueDate: '2023-11-21'
        }, {
            title: 'Something',
            dueDate: '2023-12-15'
        }];

        const datePicker = document.getElementById('date-picker');
        const dueDate = datePicker.value;
        render();


        function addTodo() {
            const textbox = document.getElementById('todo-title');
            const title = textbox.value;


            todos.push({
                title: title,
                dueDate: dueDate
            });

            render();
        }

        function render() {
            //  reset the todo list
            document.getElementById('todo-list').innerHTML = "";


            todos.forEach((todo) => {
                const element = document.createElement('div');
                element.innerText = todo.title + " " + todo.dueDate;
                const todoList = document.getElementById("todo-list")
                todoList.appendChild(element);
            })
        }



        function markDone() {

            document.getElementById('todo-button').innerText = 'Done';
            alert("well done")

        }

    </script>

    <br> <br>

    <div id="counter">0</div>
    <button id="up" onclick="clickUp()">Up</button>
    <button id="down" onclick="clickDown()">Down</button>

    <script>
        let count = 0;
        function clickUp() {
            ++count;
            document.getElementById('counter').innerText = count
        }
        function clickDown() {
            --count;
            document.getElementById('counter').innerText = count
        }

    </script>

    <br> <br>

    <h4>Shopping</h4>

    <div id="cart"></div>


    <!-- nämä napit ovat erillisiä alla olevasta receipt divistä -->
    <button onclick="addApple()" id="apple">Apple</button>
    <button onclick="addTomato()" id="tomato">Tomato</button>
    <button onclick="addEggs()" id="eggs">Eggs</button>
    <button onclick="clearList()" id="clearCart">Clear</button>
    <br><br>
    <div id="receipt"></div>


    <script>

        function addApple() {
            const element = document.createElement('div');
            element.innerText = "Apple";
            cart.appendChild(element);
        }

        function addTomato() {
            const element = document.createElement('div');
            element.innerText = "Tomato";
            cart.appendChild(element);
        }

        function addEggs() {
            const element = document.createElement('div');
            element.innerText = "Eggs";
            cart.appendChild(element);
        }

        function clearList() {

            cart.innerHTML = "";

        }

        const cartArray = [{
            item: "Apple",
            price: 0.5,
            quantity: 2
        }, {
            item: "Tomato",
            price: 0.3,
            quantity: 5
        }, {
            item: "Orange",
            price: 1,
            quantity: 6
        }, {
            item: "Eggs",
            price: 0.2,
            quantity: 10
        }];

        function cartTotal() {

            let cartTotalPrice = 0;

            for (let i = 0; i < cartArray.length; i++) {
                let itemPrice = cartArray[i].price * cartArray[i].quantity;
                cartTotalPrice = cartTotalPrice + itemPrice;
            }
            console.log("$ " + cartTotalPrice);

        }

        cartTotal();

        /* eli kuittiin pitää saada jokaiselle tuotteelle rivi,
           jossa näkyy tuotteen nimi, kpl hinta ja montako ostettu sekä 
           tuoterivin yhteishinta. Lopuksi omalle riville kaikkien 
           ostosten yhteishinta. Olen kokeillut for looppia, jota en
            saanut toimimaan, se jostain syystä overwritesi koko listan
            ja näytti vain viimeisen tuote rivin sekä kuitin yhteishinnan.
            */

        function writeReceipt() {
            let itemPrice = cartArray.price * cartArray.quantity;
            cartTotalPrice = cartTotalPrice + itemPrice;
            element.innerText = cartArray.item + " " + cartArray.quantity + " = $" + itemPrice;
        }

        function displayReceipt() {
            document.getElementById('receipt').innerHTML = ""
            let element = document.createElement('div');
            receipt.appendChild(element);
            let cartTotalPrice = 0;
            let displayTotal = document.createElement('div');
            cartArray.forEach(writeReceipt)
            displayTotal.innerText = cartTotalPrice;
            receipt.appendChild(displayTotal);

        }

        displayReceipt();

    </script>
    <br>

    <h4>Coverter in cm</h4>

    <!-- inches to cm converter -->
    <input id="converterInput" type="number" />
    <button onclick="convertToCm()" id="converterBtnCm">Convert to cm</button>
    <button onclick="convertToIn()" id="converterBtnIn">Convert to inch</button>
    <div id="result"> </div>


    <script>

        function convertToCm() {
            const numberBox = document.getElementById("converterInput");
            const numTitle = numberBox.value;
            const numberMeh = numTitle * 2.54;
            const numberRounded = numberMeh.toFixed(2);
            const element = document.createElement('div');
            element.innerText = numberRounded;
            result.appendChild(element);

        }

        function convertToIn() {
            const numberBox = document.getElementById("converterInput");
            const numTitle = numberBox.value;
            const numberMeh = numTitle / 2.54;
            const numberRounded = numberMeh.toFixed(2);
            const element = document.createElement('div');
            element.innerText = numberRounded;
            result.appendChild(element);

        }
    </script>


</body>

</html>